(function(f){var h="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this;"caches"in h&&caches instanceof CacheStorage&&(h.CacheApiDB=f())})(function(){function f(b,a){return caches.open(b).then(a)}function h(b,a){return f(b,function(c){k(a)&&l();var d=new Request((a||"").toString());return c.match(d).then(function(a){return!a||n(b,d,a)?!1:a.json()})})}function q(b,a,c,d){return f(b,function(b){(k(a)||k(c))&&l();var e=new Request((a||"").toString()),
g={"Content-Type":"application/json"};c=JSON.stringify(c);d&&(g["x-d"]=Math.round(Date.now()/1E3),d=parseInt(d),(isNaN(d)||0>d)&&l(),g["x-e"]=d.toString());g=new Response(c,{headers:g});return b.put(e,g)})}function n(b,a,c){var d=c.headers.get("x-e");c=c.headers.get("x-d");if(d&&c&&(d=parseInt(d),c=parseInt(c),c+d<Math.round(Date.now()/1E3)))return p(b,a,1),!0}function p(b,a,c){return f(b,function(b){k(a)&&l();a=c?a:new Request((a||"").toString());return b["delete"](a)})}function r(b){return f(b,
function(a){return a.keys().then(function(c){var d=[];c.forEach(function(b){d.push(a.match(b))});return Promise.all(d).then(function(a){a.forEach(function(a,c){n(b,c,a)})})})})}function e(b,a){if(this instanceof e)this.a=b,"object"===typeof a&&a.namespace&&(this.b=a.namespace);else return new e(b,a)}function m(b,a){return(b?b+":":"")+a}function k(b){return"undefined"===typeof b}function l(){throw Error();}e.prototype.get=function(b){return h(this.a,m(this.b,b))};e.prototype.set=function(b,a,c){return q(this.a,
m(this.b,b),a,c)};e.prototype.del=function(b){return p(this.a,m(this.b,b))};e.prototype.prune=function(){return r(this.a)};return e});
