(function(d){var c="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this;caches instanceof CacheStorage?c.CacheApiDB=d():(console&&console.error("Browser does not support Cache API"),c.CacheApiDB=c.c?c.c():function(){var c=this;c.supported=0;["get","set","del","prune"].forEach(function(d){c[d]=function(){return Promise.reject("Browser does not support Cache API")}})})})(function(){function d(a,b){return caches.open(a).then(b)}function c(a,b){return d(a,
function(a){var e=new Request((b||"").toString());return a.match(e).then(function(b){var a;(a=!b)||((a=b.headers.get("x-expire"))&&b.headers.get("x-date")+a<Math.round(Date.now()/1E3)?(k(),a=!0):a=void 0);return a?!1:"application/json"===b.headers.get("Content-Type")?b.json():b.text()})})}function h(a,b,e){var c;return d(a,function(a){var d=new Request((b||"").toString()),f={};f["x-date"]=Math.round(Date.now()/1E3);"object"==typeof e?(f["Content-Type"]="application/json",e=JSON.stringify(e)):(e=e.toString(),
f["Content-Type"]="text/plain");if(c){c=parseInt(c);if(isNaN(c)||0>c)throw Error("Expire time not numeric");f["x-expire"]=c.toString()}f=new Response(e,{headers:f});return a.put(d,f)})}function k(){var a=key;d(store,function(b){var c=new Request((a||"").toString());return b["delete"](c)})}function g(a,b){if(this instanceof g)this.b=a,this.supported=1,"object"==typeof b&&b.namespace&&(this.a=b.namespace);else return new g(a,b)}g.prototype.get=function(a){var b=this.a;return c(this.b,(b?b+":":"")+a)};
g.prototype.set=function(a,b){var c=this.a;return h(this.b,(c?c+":":"")+a,b)};return g});
