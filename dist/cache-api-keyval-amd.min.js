define(["exports"],function(n){"use strict";var t="--keyval",e="x-d",r="x-e",u="Content-Type",o="/";function i(n,e,r,u,i){return n=n||t,caches.open(n).then(function(n){r(n,new Request(["",t,e||""].join(o)),u,i)})}function c(n,t){return n.match(t).then(function(u){if(!function(n,t,u){var o=u.headers,i=p(o.get(r)),c=p(o.get(e));if(d(i)&&c+i<h())return s(n,t),1}(n,t,u))return u.json()})}function f(n,t){s(n,t)}function a(n,t,o,i){var c={};c[u]="application/json",o=JSON.stringify(o),d(i)&&(c[e]=h(),c[r]=i);var f=new Response(f,{headers:c});return n.put(t,f)}function s(n,t){n.delete(t)}function h(){return Math.round(Date.now()/1e3)}function p(n){return parseInt(n)}function d(n){return isNaN(n)}n.get=function(n,t){return i(t,n,c)},n.set=function(n,t,e,r){return i(r,n,a,t,e)},n.del=function(n,t){return i(t,n,f)},n.clear=function(n){return(t=n).keys().then(function(n){n.forEach(function(n){s(t,n)})});var t},n.prune=function(n){return(t=n).keys().then(function(n){n.forEach(function(n){c(t,n)})});var t},n.keys=function(n){return n.keys().then(function(n){var t=[];return n.forEach(function(n){(n=new URL(n.url).pathname.split(o)).shift(),n.shift(),t.push(n.join(o))}),t})},Object.defineProperty(n,"__esModule",{value:!0})});