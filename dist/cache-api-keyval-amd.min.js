define(["exports"],function(n){"use strict";var t="--keyval",e="x-d",r="x-e",u="Content-Type",i="/";function o(n,e,r,u,o){return n=n||t,caches.open(n).then(function(n){return r(n,new Request(["",t,e||""].join(i)),u,o)})}function f(n,t){return n.match(t).then(function(u){if(u&&!function(n,t,u){if(u){var i=u.headers,o=y(i.get(r)),f=y(i.get(e));if(v(o)&&f+o<l())return d(n,t),1}}(n,t,u))return u.json()})}function c(n,t){d(n,t)}function s(n,t,i,o){var f={};return f[u]="application/json",i=JSON.stringify(i),v(o)&&(f[e]=l(),f[r]=o),i=new Response(i,{headers:f}),n.put(t,i)}function a(n){return n.keys().then(function(n){var t=[];return n.forEach(function(n){(n=new URL(n.url).pathname.split(i)).shift(),n.shift(),t.push(n.join(i))}),t})}function h(n){return n.keys().then(function(t){t.forEach(function(t){d(n,t)})})}function p(n){return n.keys().then(function(t){t.forEach(function(t){f(n,t)})})}function d(n,t){n.delete(t)}function l(){return Math.round(Date.now()/1e3)}function y(n){return parseInt(n)}function v(n){return!isNaN(n)}n.get=function(n,t){return o(t,n,f)},n.set=function(n,t,e,r){return o(r,n,s,t,e)},n.del=function(n,t){return o(t,n,c)},n.clear=function(n){return o(n,"",h)},n.prune=function(n){return o(n,"",p)},n.keys=function(n){return o(n,"",a)},Object.defineProperty(n,"__esModule",{value:!0})});