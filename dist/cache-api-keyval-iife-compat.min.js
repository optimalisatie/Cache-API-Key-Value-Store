var CacheApiDB=function(n){"use strict";var t="--keyval",e="x-d",r="x-e",u="Content-Type",i="/";function o(n,e,r,u,o){return n=n||t,caches.open(n).then(function(n){return r(n,new Request(["",t,e||""].join(i)),u,o)})}function c(n,t){return n.match(t).then(function(u){if(u&&!function(n,t,u){if(u){var i=u.headers,o=d(i.get(r)),c=d(i.get(e));if(v(o)&&c+o<y())return l(n,t),1}}(n,t,u))return u.json()})}function f(n,t){l(n,t)}function a(n,t,i,o){var c={};return c[u]="application/json",i=JSON.stringify(i),v(o)&&(c[e]=y(),c[r]=o),i=new Response(i,{headers:c}),n.put(t,i)}function s(n){return n.keys().then(function(n){var t=[];return n.forEach(function(n){(n=new URL(n.url).pathname.split(i)).shift(),n.shift(),t.push(n.join(i))}),t})}function h(n){return n.keys().then(function(t){t.forEach(function(t){l(n,t)})})}function p(n){return n.keys().then(function(t){t.forEach(function(t){c(n,t)})})}function l(n,t){n.delete(t)}function y(){return Math.round(Date.now()/1e3)}function d(n){return parseInt(n)}function v(n){return!isNaN(n)}return n.get=function(n,t){return o(t,n,c)},n.set=function(n,t,e,r){return o(r,n,a,t,e)},n.del=function(n,t){return o(t,n,f)},n.clear=function(n){return o(n,"",h)},n.prune=function(n){return o(n,"",p)},n.keys=function(n){return o(n,"",s)},n}({});
